{% extends 'base.html.twig' %}

{% block title %}Posts list{% endblock %}

{% block body %}
<div class="mt-4">
    <h2 class="text-secondary my-4">List of posts</h2>
    {% for message in app.flashes('success') %}
        <div class="alert alert-success" role="alert">
            {{ message }} 
        </div>
    {% endfor %}
    {% if(not posts) %}
        <div class="bg-white mt-4 p-4 rounded">
            No posts for the moment
        </div>
    {% endif %}
    {% for post in posts %}
        <div class="row bg-white p-2 rounded border-start my-1 shadow-sm border-5 border-info">
            <div class="col-md-6">
                <div class="h6 text-secondary my-2">Post title</div>
                <p>{{ post.title }}</p>
            </div>
            <div class="col-md-4">
                <div class="h6 text-secondary my-2">Author</div>
                <p>{{ post.author }}</p>
            </div>
            <div class="col-md-2 text-center">
                <div class="h6 text-secondary my-2">Actions</div>
                <div>
                    <a class="btn btn-outline-info btn-sm rounded-pill" href="{{ path('post.show', {  id: post.id }) }}">View</a>
                    <a class="btn btn-outline-primary btn-sm rounded-pill" href="{{ path('post.update', {id: post.id}) }}">Modify</a>
                    <a class="btn btn-outline-danger btn-sm rounded-pill" href="{{ path('post.delete', { id: post.id }) }}">Delete</a>
                </div>
            </div>
        </div>
    {% endfor %}
</div>
{% endblock %}
